<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Batch Screenshot Cropper</title>

<meta name="description" content="Crop hundreds of screenshots instantly. Free browser-based batch image cropper with pixel precision. No uploads required.">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<style>

body{
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
background:#f5f7fb;
margin:0;
}

.container{
max-width:1100px;
margin:auto;
padding:40px 20px;
}

h1{
text-align:center;
font-size:36px;
margin-bottom:10px;
}

.subtitle{
text-align:center;
color:#666;
margin-bottom:10px;
font-size:18px;
}

.trust{
text-align:center;
color:#888;
font-size:14px;
margin-bottom:30px;
}

.card{
background:white;
border-radius:12px;
padding:25px;
box-shadow:0 10px 25px rgba(0,0,0,0.05);
margin-bottom:25px;
}

.upload{
border:2px dashed #d6d9e0;
padding:40px;
text-align:center;
cursor:pointer;
border-radius:10px;
}

.upload:hover{
background:#f9fafc;
}

.counter{
margin-top:10px;
font-size:14px;
color:#666;
}

.controls{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;
margin-top:20px;
}

label{
font-size:14px;
color:#444;
}

input,select{
width:100%;
padding:10px;
font-size:16px;
margin-top:5px;
border:1px solid #ccc;
border-radius:6px;
}

button{
background:#4f6df5;
color:white;
border:none;
padding:14px 20px;
font-size:16px;
border-radius:6px;
cursor:pointer;
margin-top:20px;
}

button:disabled{
opacity:0.5;
cursor:not-allowed;
}

.preview-grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:20px;
margin-top:20px;
}

.preview-box{
text-align:center;
}

.preview-box img{
max-width:100%;
border-radius:6px;
box-shadow:0 6px 15px rgba(0,0,0,0.08);
}

.progress{
margin-top:20px;
}

.progress-bar{
height:10px;
background:#eee;
border-radius:10px;
overflow:hidden;
}

.progress-fill{
height:100%;
background:#4f6df5;
width:0%;
}

footer{
margin-top:40px;
text-align:center;
color:#666;
font-size:14px;
}

</style>
</head>

<body>

<div class="container">

<h1>Batch Screenshot Cropper</h1>

<div class="subtitle">
Crop hundreds of screenshots instantly using pixel values
</div>

<div class="trust">
Your images stay on your device. Nothing is uploaded.
</div>

<div class="card">

<div class="upload" onclick="fileInput.click()">
Click or drag images here
<input type="file" id="fileInput" multiple accept="image/*" hidden>
<div class="counter" id="counter">No images uploaded</div>
</div>

<div class="controls">

<div>
<label>Crop Top (px)</label>
<input type="number" id="top" value="0">
</div>

<div>
<label>Crop Bottom (px)</label>
<input type="number" id="bottom" value="0">
</div>

<div>
<label>Crop Left (px)</label>
<input type="number" id="left" value="0">
</div>

<div>
<label>Crop Right (px)</label>
<input type="number" id="right" value="0">
</div>

<div>
<label>Output Format</label>
<select id="format">
<option value="png">PNG</option>
<option value="jpeg">JPEG</option>
</select>
</div>

</div>

<button id="processBtn" disabled onclick="processImages()">Process Images</button>
<button id="downloadBtn" onclick="downloadZip()" style="display:none">Download ZIP</button>

<div class="progress">
<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>
<div id="progressText"></div>
</div>

</div>

<div class="card">

<h3>Preview</h3>

<div class="preview-grid">

<div class="preview-box">
<p>Original</p>
<img id="originalPreview">
</div>

<div class="preview-box">
<p>Cropped</p>
<img id="croppedPreview">
</div>

</div>

</div>

<footer>

<h3>How to use</h3>

<p>
1. Upload screenshots<br>
2. Enter crop values in pixels<br>
3. Click "Process Images"<br>
4. Download the ZIP file
</p>

</footer>

</div>

<script>

let files=[]
let results=[]
let previewImage

fileInput.onchange=e=>{
files=[...e.target.files]
counter.innerText=`${files.length} images uploaded`
processBtn.disabled=false
loadPreview(files[0])
}

function loadPreview(file){

const reader=new FileReader()

reader.onload=e=>{
previewImage=new Image()
previewImage.src=e.target.result

previewImage.onload=()=>{
originalPreview.src=previewImage.src
updatePreview()
}
}

reader.readAsDataURL(file)

}

function updatePreview(){

if(!previewImage)return

const top=parseInt(document.getElementById("top").value)||0
const bottom=parseInt(document.getElementById("bottom").value)||0
const left=parseInt(document.getElementById("left").value)||0
const right=parseInt(document.getElementById("right").value)||0

const canvas=document.createElement("canvas")

const w=previewImage.width-left-right
const h=previewImage.height-top-bottom

if(w<=0||h<=0)return

canvas.width=w
canvas.height=h

const ctx=canvas.getContext("2d")

ctx.drawImage(previewImage,left,top,w,h,0,0,w,h)

croppedPreview.src=canvas.toDataURL()

}

["top","bottom","left","right"].forEach(id=>{
document.getElementById(id).addEventListener("input",updatePreview)
})

async function processImages(){

results=[]

const BATCH=20

for(let i=0;i<files.length;i+=BATCH){

const batch=files.slice(i,i+BATCH)

const processed=await Promise.all(batch.map(f=>cropImage(f)))

results.push(...processed)

const progress=((i+BATCH)/files.length)*100

progressFill.style.width=progress+"%"
progressText.innerText=`Processed ${Math.min(i+BATCH,files.length)} / ${files.length}`

}

downloadBtn.style.display="inline-block"

}

function cropImage(file){

return new Promise(resolve=>{

const reader=new FileReader()

reader.onload=e=>{

const img=new Image()

img.onload=()=>{

const top=parseInt(document.getElementById("top").value)||0
const bottom=parseInt(document.getElementById("bottom").value)||0
const left=parseInt(document.getElementById("left").value)||0
const right=parseInt(document.getElementById("right").value)||0

const format=document.getElementById("format").value

const canvas=document.createElement("canvas")

const w=img.width-left-right
const h=img.height-top-bottom

canvas.width=w
canvas.height=h

const ctx=canvas.getContext("2d")

ctx.drawImage(img,left,top,w,h,0,0,w,h)

canvas.toBlob(blob=>{
resolve({blob,name:file.name})
},`image/${format}`)

}

img.src=e.target.result

}

reader.readAsDataURL(file)

})

}

async function downloadZip(){

const zip=new JSZip()

results.forEach(r=>{
zip.file(r.name,r.blob)
})

const content=await zip.generateAsync({type:"blob"})

const url=URL.createObjectURL(content)

const a=document.createElement("a")

a.href=url
a.download="cropped_images.zip"

a.click()

}

</script>

</body>
</html>
