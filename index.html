<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>CropStack — Batch Screenshot Cropper</title>

<meta name="description" content="Crop hundreds of screenshots instantly with pixel precision. CropStack is a free browser-based batch image cropper.">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<style>

*{
box-sizing:border-box;
}

body{
font-family:'Inter',sans-serif;
margin:0;
background:linear-gradient(135deg,#7c3aed,#4f46e5);
color:#111;
}

.container{
max-width:900px;
margin:auto;
padding:40px 20px;
}

.header{
text-align:center;
color:white;
margin-bottom:40px;
}

.logo{
display:flex;
align-items:center;
justify-content:center;
gap:10px;
font-size:28px;
font-weight:700;
}

.logo-icon{
width:28px;
height:28px;
position:relative;
}

.logo-icon div{
position:absolute;
border:2px solid white;
border-radius:4px;
}

.logo-icon div:nth-child(1){
width:20px;
height:20px;
top:0;
left:0;
opacity:.6;
}

.logo-icon div:nth-child(2){
width:20px;
height:20px;
top:4px;
left:4px;
opacity:.8;
}

.logo-icon div:nth-child(3){
width:20px;
height:20px;
top:8px;
left:8px;
}

.subtitle{
margin-top:10px;
font-size:18px;
opacity:.9;
}

.card{
background:white;
border-radius:12px;
padding:25px;
margin-bottom:25px;
box-shadow:0 15px 40px rgba(0,0,0,0.1);
}

.upload{
border:2px dashed #ccc;
padding:40px;
text-align:center;
border-radius:10px;
cursor:pointer;
transition:.2s;
}

.upload:hover{
background:#f7f7ff;
}

.counter{
margin-top:10px;
font-size:14px;
color:#666;
}

.controls{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
gap:15px;
margin-top:20px;
}

label{
font-size:13px;
color:#555;
}

input,select{
width:100%;
padding:10px;
margin-top:5px;
border-radius:6px;
border:1px solid #ccc;
font-size:14px;
}

button{
background:#4f46e5;
color:white;
border:none;
padding:14px;
border-radius:6px;
font-size:15px;
cursor:pointer;
margin-top:15px;
width:100%;
}

button:hover{
background:#4338ca;
}

.preview{
display:grid;
grid-template-columns:1fr 1fr;
gap:20px;
margin-top:20px;
}

.preview img{
max-width:100%;
border-radius:6px;
box-shadow:0 5px 15px rgba(0,0,0,0.1);
}

.progress-bar{
height:8px;
background:#eee;
border-radius:10px;
overflow:hidden;
margin-top:15px;
}

.progress-fill{
height:100%;
background:#4f46e5;
width:0%;
}

.section-title{
font-size:20px;
font-weight:600;
margin-bottom:10px;
}

.faq{
font-size:14px;
line-height:1.6;
}

.suggest{
text-align:center;
}

.suggest a{
text-decoration:none;
}

.suggest button{
max-width:300px;
}

.footer{
text-align:center;
color:white;
margin-top:30px;
font-size:13px;
opacity:.9;
}

</style>
</head>

<body>

<div class="container">

<div class="header">

<div class="logo">

<div class="logo-icon">
<div></div>
<div></div>
<div></div>
</div>

CropStack

</div>

<div class="subtitle">
Crop hundreds of screenshots instantly with pixel precision
</div>

</div>

<div class="card">

<div class="upload" onclick="fileInput.click()">

Upload Images

<input type="file" id="fileInput" multiple accept="image/*" hidden>

<div class="counter" id="counter">
No images uploaded
</div>

</div>

<div class="controls">

<div>
<label>Crop Top (px)</label>
<input type="number" id="top" value="0">
</div>

<div>
<label>Crop Bottom (px)</label>
<input type="number" id="bottom" value="0">
</div>

<div>
<label>Crop Left (px)</label>
<input type="number" id="left" value="0">
</div>

<div>
<label>Crop Right (px)</label>
<input type="number" id="right" value="0">
</div>

<div>
<label>Format</label>
<select id="format">
<option value="png">PNG</option>
<option value="jpeg">JPEG</option>
</select>
</div>

</div>

<button id="processBtn" disabled onclick="processImages()">
Process Images
</button>

<button id="downloadBtn" style="display:none" onclick="downloadZip()">
Download ZIP
</button>

<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>

<div id="progressText"></div>

</div>

<div class="card">

<div class="section-title">Preview</div>

<div class="preview">

<div>
<p>Original</p>
<img id="originalPreview">
</div>

<div>
<p>Cropped</p>
<img id="croppedPreview">
</div>

</div>

</div>

<div class="card faq">

<div class="section-title">How it works</div>

1. Upload your screenshots<br>
2. Enter crop values in pixels<br>
3. Click "Process Images"<br>
4. Download all cropped images as ZIP

</div>

<div class="card faq">

<div class="section-title">FAQ</div>

<strong>Is CropStack free?</strong><br>
Yes. You can crop hundreds of images directly in your browser.<br><br>

<strong>Are my images uploaded?</strong><br>
No. All images are processed locally in your browser.<br><br>

<strong>How many images can I crop?</strong><br>
The tool supports hundreds depending on browser memory.

</div>

<div class="card suggest">

<div class="section-title">Help Improve CropStack</div>

<p>Have an idea for a feature?</p>

<a href="https://docs.google.com/forms/d/e/1FAIpQLSfPsUVSMwgkNR5KU2hG0B0oLD7O3bQYjC3_mMeSjZgnDbCk2w/viewform" target="_blank">

<button>
Suggest a Feature
</button>

</a>

</div>

<div class="footer">
Built with ❤️ for people working with lots of screenshots
</div>

</div>

<script>

let files=[]
let results=[]
let previewImg

fileInput.onchange=e=>{
files=[...e.target.files]
counter.innerText=`${files.length} images uploaded`
processBtn.disabled=false
loadPreview(files[0])
}

function loadPreview(file){

const reader=new FileReader()

reader.onload=e=>{

previewImg=new Image()
previewImg.src=e.target.result

previewImg.onload=()=>{
originalPreview.src=previewImg.src
updatePreview()
}

}

reader.readAsDataURL(file)

}

function updatePreview(){

if(!previewImg)return

const top=parseInt(document.getElementById("top").value)||0
const bottom=parseInt(document.getElementById("bottom").value)||0
const left=parseInt(document.getElementById("left").value)||0
const right=parseInt(document.getElementById("right").value)||0

const canvas=document.createElement("canvas")

const w=previewImg.width-left-right
const h=previewImg.height-top-bottom

if(w<=0||h<=0)return

canvas.width=w
canvas.height=h

const ctx=canvas.getContext("2d")

ctx.drawImage(previewImg,left,top,w,h,0,0,w,h)

croppedPreview.src=canvas.toDataURL()

}

["top","bottom","left","right"].forEach(id=>{
document.getElementById(id).addEventListener("input",updatePreview)
})

async function processImages(){

results=[]

const BATCH=20

for(let i=0;i<files.length;i+=BATCH){

const batch=files.slice(i,i+BATCH)

const processed=await Promise.all(batch.map(f=>cropImage(f)))

results.push(...processed)

const progress=(Math.min(i+BATCH,files.length)/files.length)*100

progressFill.style.width=progress+"%"
progressText.innerText=`Processed ${Math.min(i+BATCH,files.length)} / ${files.length}`

}

downloadBtn.style.display="block"

}

function cropImage(file){

return new Promise(resolve=>{

const reader=new FileReader()

reader.onload=e=>{

const img=new Image()

img.onload=()=>{

const top=parseInt(document.getElementById("top").value)||0
const bottom=parseInt(document.getElementById("bottom").value)||0
const left=parseInt(document.getElementById("left").value)||0
const right=parseInt(document.getElementById("right").value)||0

const format=document.getElementById("format").value

const canvas=document.createElement("canvas")

const w=img.width-left-right
const h=img.height-top-bottom

canvas.width=w
canvas.height=h

const ctx=canvas.getContext("2d")

ctx.drawImage(img,left,top,w,h,0,0,w,h)

canvas.toBlob(blob=>{
resolve({blob,name:file.name})
},`image/${format}`)

}

img.src=e.target.result

}

reader.readAsDataURL(file)

})

}

async function downloadZip(){

const zip=new JSZip()

results.forEach(r=>{
zip.file(r.name,r.blob)
})

const content=await zip.generateAsync({type:"blob"})

const url=URL.createObjectURL(content)

const a=document.createElement("a")

a.href=url
a.download="cropstack_images.zip"

a.click()

}

</script>

</body>
</html>
